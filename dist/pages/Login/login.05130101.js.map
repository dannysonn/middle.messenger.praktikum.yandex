{"mappings":"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","sources":["src/components/button/button.ts","<<jsx-config-pragma.js>>","src/components/button/button.hbs","src/utils/initInputsList.ts","src/utils/validate.ts","src/utils/validateForm.ts"],"sourcesContent":["import template from './button.hbs';\r\nimport Block from '../../utils/Block';\r\n\r\ninterface ButtonProps {\r\n  text: string,\r\n  class: string,\r\n  formId?: string,\r\n  events?: any,\r\n}\r\n\r\nexport default class Button extends Block {\r\n  constructor(props: ButtonProps) {\r\n    super(props);\r\n  }\r\n\r\n  render(): DocumentFragment {\r\n    return this.compile(template, { ...this.props });\r\n  }\r\n}\r\n",null,"<button class=\"{{{class}}}\" form=\"{{{formId}}}\">{{ text }}</button>;\r\n","import {validate} from \"./validate\";\r\n\r\nexport let initInputsListEvents = (): void => {\r\n    let inputNodes = document.querySelectorAll('input');\r\n\r\n    inputNodes.forEach(input => {\r\n        input.addEventListener('focus', (e) => {\r\n            validate(e.target.value, e.target.attributes.type.value, e.target.attributes.id.value);\r\n        });\r\n        input.addEventListener('blur', (e) => {\r\n            validate(e.target.value, e.target.attributes.type.value, e.target.attributes.id.value);\r\n        });\r\n    });\r\n}","enum ValidationType {\r\n    EMAIL = 'email',\r\n    LOGIN = 'login',\r\n    NAME = 'name',\r\n    SURNAME = 'surname',\r\n    PHONE = 'phone',\r\n    PASSWORD = 'password',\r\n    MESSAGE = 'message'\r\n}\r\n\r\nexport const validate = (inputValue: string, type: string, inputId: string) => {\r\n    let isValid: boolean = false;\r\n    let input = document.getElementById(inputId);\r\n\r\n    if (input === null) {\r\n        throw new Error('Input not exists')\r\n    }\r\n\r\n    switch (type) {\r\n        case ValidationType.EMAIL:\r\n            isValid = /^[A-Za-z\\d_-]+@[A-Za-z].[A-Za-z]/.test(inputValue);\r\n            break;\r\n\r\n        case ValidationType.LOGIN:\r\n            if (inputValue.length < 3 || inputValue.length > 20) {\r\n                isValid = false;\r\n                break;\r\n            }\r\n\r\n            isValid = /^[A-Za-z\\d-_][A-Za-z]+[A-Za-z\\d_-]*$/.test(inputValue);\r\n            break;\r\n\r\n        case ValidationType.NAME:\r\n            isValid = /^[A-ZА-Я]+[A-Za-zА-Яа-я]*$/.test(inputValue);\r\n            break;\r\n\r\n        case ValidationType.SURNAME:\r\n            isValid = /^[A-ZА-Я]+[A-Za-zА-Яа-я]*$/.test(inputValue);\r\n            break;\r\n\r\n        case ValidationType.PHONE:\r\n            isValid = /^[?\\d]/.test(inputValue);\r\n            break;\r\n\r\n        case ValidationType.PASSWORD:\r\n            if (inputValue.length < 8 || inputValue.length > 40) {\r\n                isValid = false;\r\n                break;\r\n            }\r\n            isValid = /^(?=.*[a-zA-Z\\d])/.test(inputValue);\r\n            break;\r\n\r\n        case ValidationType.MESSAGE:\r\n            if (inputValue.length > 0) {\r\n                isValid = true;\r\n            }\r\n            break;\r\n\r\n        default:\r\n            break;\r\n    }\r\n\r\n    if (!isValid) {\r\n       input.classList.add('invalid');\r\n    } else {\r\n        if (input.classList.contains('invalid')) {\r\n            input.classList.remove('invalid');\r\n        }\r\n    }\r\n\r\n};\r\n","export let validateForm = () => {\r\n    let isValid: boolean = true;\r\n    let inputs = document.querySelectorAll('input');\r\n\r\n    inputs.forEach((input) => {\r\n        if (input.classList.contains('invalid')) {\r\n            isValid = false;\r\n        }\r\n    });\r\n\r\n    if (isValid) {\r\n        console.log(getFormObject());\r\n    } else {\r\n        throw new Error('Form validation error');\r\n    }\r\n}\r\n\r\nlet getFormObject = () => {\r\n    let inputs = document.querySelectorAll('input');\r\n    let resultObject = {};\r\n\r\n    inputs.forEach(input => {\r\n        let key: string | null = input.getAttribute('type');\r\n        let value: string = input.value;\r\n\r\n        resultObject[`${key}`] = value;\r\n    });\r\n\r\n    return resultObject;\r\n}"],"names":["$B6MBH","parcelRequire","$01639fe5b0bc5ab2$export$2e2bcd8739ae039","Block","Button","props","key","this","compile","$bId5E","default","$a1h7Y","$50Ae5","$886df5328aab924c$export$2e2bcd8739ae039","$parcel$interopDefault","template","compiler","main","container","depth0","helpers","partials","data","stack1","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","name","hash","loc","start","line","column","end","escapeExpression","useData","$eCV4l","$f63931f8ce366b5a$export$219f6d34eb021412","document","querySelectorAll","forEach","input","addEventListener","e","validate","target","value","attributes","type","id","$908c6f37866b621f$var$ValidationType","ValidationType","$908c6f37866b621f$export$a22775fa5e2eebd9","inputValue","inputId","isValid","getElementById","Error","EMAIL","test","LOGIN","length","NAME","SURNAME","PHONE","PASSWORD","MESSAGE","classList","contains","remove","add","$390509cc826900c5$export$ed692cabb252e59b","console","log","$390509cc826900c5$var$getFormObject","inputs","resultObject","getAttribute","concat"],"version":3,"file":"login.05130101.js.map"}